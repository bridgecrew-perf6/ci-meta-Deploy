{"remainingRequest":"/home/tbranduardi/Documents/ProgettoTesi/Front-end/ci-meta/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tbranduardi/Documents/ProgettoTesi/Front-end/ci-meta/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tbranduardi/Documents/ProgettoTesi/Front-end/ci-meta/src/components/Login.vue","mtime":1639742094664},{"path":"/home/tbranduardi/Documents/ProgettoTesi/Front-end/ci-meta/node_modules/cache-loader/dist/cjs.js","mtime":1637320216095},{"path":"/home/tbranduardi/Documents/ProgettoTesi/Front-end/ci-meta/node_modules/vue-loader/lib/index.js","mtime":1637320218959}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9nZ2VkOiBmYWxzZSwKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICB1bmFtZTogJycsCiAgICAgIHB3OiAnJywKICAgICAgYWRkcmVzczogbnVsbCwKICAgICAgdGltZW91dDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2dpbigpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgICAgICAgY29uc3QgZGF0YSA9IHsgdXNlcm5hbWU6IHRoaXMudW5hbWUsIHBhc3N3b3JkOiB0aGlzLnB3LCBwcm92aWRlcjogJ2RiJyB9OwogICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTsKICAgICAgICB0aGlzLmxvYWRpbmc9dHJ1ZTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgnaHR0cDovLycrdGhpcy5hZGRyZXNzKyc6NTAwMC9hcGkvdjEvc2VjdXJpdHkvbG9naW4nLCBkYXRhLCBoZWFkZXJzKTsKICAgICAgICB0aGlzLmxvYWRpbmc9ZmFsc2U7CiAgICAgICAgdGhpcy5sb2dnZWQgPSB0cnVlOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbG9naW4nLCB7dXNlcm5hbWU6IHRoaXMudW5hbWUsIHRva2VuOiByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbiwgYWRkcmVzczogdGhpcy5hZGRyZXNzfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnSG9tZSd9KTsKICAgICAgfQogICAgICBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMubG9hZGluZz0gZmFsc2U7CiAgICAgIH0KICAgICAgCiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div >\n    <b-card-group columns>\n    <b-card\n    title=\"Login\"\n    style=\"max-width: 20rem;\"\n    class=\"text-center\"\n    border-variant=\"warning\"\n    >\n    <b-form inline v-if=\"!this.$store.state.logged\">\n      <label class=\"sr-only\" for=\"inline-form-input-username\">Username</label>\n      <b-input-group prepend=\"@\" class=\"mb-2 mr-sm-2 mb-sm-0\">\n        <b-form-input v-model=\"uname\" id=\"inline-form-input-username\" placeholder=\"Username\"></b-form-input>\n      </b-input-group>\n\n      <label class=\"sr-only\" for=\"inline-form-input-password\">Password</label>\n      <b-form-input\n        v-model=\"pw\"\n        type=\"password\"\n        id=\"inline-form-input-password\"\n        class=\"mb-2 mr-sm-2 mb-sm-0\"\n        placeholder=\"Password\"\n      ></b-form-input>\n      <br>\n      <label class=\"sr-only\" for=\"address-selector\">Indirizzo &nbsp; </label>\n      <b-form-select v-model=\"address\" class=\"mb-3\" id=\"address-selector\">\n        <template #first>\n          <b-form-select-option :value=\"'localhost'\">Local: @localhost</b-form-select-option>\n        </template>\n        <b-form-select-option :value=\"'101.58.58.9'\">Remote: @101.58.58.9</b-form-select-option>\n      </b-form-select>\n\n      <br>\n      <b-container>\n        <b-row>\n          <b-col>\n            <b-button v-on:click.prevent=\"login()\" variant=\"primary\">Login</b-button>\n            <div class=\"text-center\" v-if=\"loading\">\n              <b-spinner variant=\"primary\"></b-spinner>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </b-form>\n    </b-card>\n    </b-card-group>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'Login',\n    data() {\n      return {\n        loading: false,\n        logged: false,\n        error: false,\n        uname: '',\n        pw: '',\n        address: null,\n        timeout: false\n      };\n    },\n    methods: {\n      async login() {\n        try {\n          this.error = false;\n          const data = { username: this.uname, password: this.pw, provider: 'db' };\n          const headers = { 'Content-Type': 'application/json' };\n          this.loading=true;\n          const response = await this.$http.post('http://'+this.address+':5000/api/v1/security/login', data, headers);\n          this.loading=false;\n          this.logged = true;\n          this.$store.commit('login', {username: this.uname, token: response.data.access_token, address: this.address});\n          this.$router.push({ name: 'Home'});\n        }\n        catch (e) {\n          console.log(e);\n          this.error = true;\n          this.loading= false;\n        }\n        \n      },\n    },\n  };\n</script>"]}]}